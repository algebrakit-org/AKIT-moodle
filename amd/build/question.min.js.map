{"version":3,"file":"question.min.js","sources":["../src/question.js"],"sourcesContent":["/**\n * Javascript entry point for showing an Algebrakit question.\n * - To guarantee the student input is stored, the submit function is\n *   called when the student clicks the \"Next\" button.\n */\nimport Selectors from './selectors';\n\n/* eslint-disable no-undef */\nconst AK = (typeof(AlgebraKIT) == 'undefined')\n    ?{\n        config: {}\n    } :{\n        AlgebraKIT\n    };\n/* eslint-enable */\n\nexport const init = (cdnUrl) => {\n    if (!AK._api) {\n        let script = document.createElement('script');\n        script.src = cdnUrl;\n        document.body.appendChild(script);\n        new AKQuestion();\n    }\n};\n\nclass AKQuestion {\n    submitClicked = false;\n\n    get form() {\n        return document.querySelector(Selectors.actions.reponseForm);\n    }\n    get submitButton() {\n        return this.form.querySelector('input[name=\"next\"]');\n    }\n    get exercise() {\n        return this.form.querySelector('akit-exercise');\n    }\n\n    constructor() {\n        this.submitButton.addEventListener('click', (evt) => this.submitQuestion(evt));\n    }\n\n    async submitQuestion(evt) {\n        if(this.submitClicked) {\n            this.submitButton = false;\n        } else {\n            evt.preventDefault();\n            await this.exercise.submit();\n            this.submitClicked = true;\n            this.submitButton.click();\n        }\n    }\n}"],"names":["AK","AlgebraKIT","config","cdnUrl","_api","script","document","createElement","src","body","appendChild","AKQuestion","form","querySelector","Selectors","actions","reponseForm","submitButton","this","exercise","constructor","addEventListener","evt","submitQuestion","submitClicked","preventDefault","submit","click"],"mappings":"qPAQMA,GAA4B,oBAAfC,WACd,CACGC,OAAQ,IACT,CACCD,WAAAA,0BAIaE,aACZH,GAAGI,KAAM,KACNC,OAASC,SAASC,cAAc,UACpCF,OAAOG,IAAML,OACbG,SAASG,KAAKC,YAAYL,YACtBM,mBAINA,WAGEC,kBACON,SAASO,cAAcC,mBAAUC,QAAQC,aAEhDC,0BACOC,KAAKN,KAAKC,cAAc,sBAE/BM,sBACOD,KAAKN,KAAKC,cAAc,iBAGnCO,+KAZgB,QAaPH,aAAaI,iBAAiB,SAAUC,KAAQJ,KAAKK,eAAeD,4BAGxDA,KACdJ,KAAKM,mBACCP,cAAe,GAEpBK,IAAIG,uBACEP,KAAKC,SAASO,cACfF,eAAgB,OAChBP,aAAaU"}